{% load pybb_tags i18n %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Forum{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <style>
        body {
            background-color: #f8f9fa;
            color: #212529;
        }
        .bg-custom {
            background-color: #343a40;
            color: #ffffff;
        }
        .card {
            border-color: #dee2e6;
        }
        .table th {
            background-color: #f1f1f1;
        }
        .table tbody tr:hover {
            background-color: #e9ecef;
        }
        .topic-icon {
            width: 50px;
            text-align: center;
            padding: 8px;
        }
        .topic-title {
            padding: 8px;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .table th, .table td {
            vertical-align: middle;
            padding: 8px;
        }
        .table th:nth-child(1) {
            width: 60%;
        }
        .table td:nth-child(1) {
            width: 50px;
        }
        .table td:nth-child(2) {
            width: 55%;
        }
        .table th:nth-child(2), .table td:nth-child(3) {
            width: 100px;
            text-align: center;
        }
        .table th:nth-child(3), .table td:nth-child(4) {
            width: 100px;
            text-align: center;
        }
        .table th:nth-child(4), .table td:nth-child(5) {
            width: 180px;
            text-align: left;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .forum-unread .topic-icon i {
            color: #dc3545;
        }
    </style>
</head>
<body>
    <main id="main-container">
        <div class="bg-custom py-3">
            <div class="container d-flex justify-content-between align-items-center">
                <div class="d-flex align-items-center">
                    <i class="bi bi-chat-dots-fill fs-2 me-2"></i>
                    <h1 class="h3 fw-bold mb-0">Bienvenue sur le forum</h1>
                </div>
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb breadcrumb-alt text-white">
                        <li class="breadcrumb-item">
                            <a class="text-light" href="{% url 'pybb:index' %}">Forum</a>
                        </li>
                        <li class="breadcrumb-item active text-light" aria-current="page">Accueil</li>
                    </ol>
                </nav>
            </div>
        </div>
        Je comprends que la liste des forums ne s’affiche pas correctement dans votre forum_list.html après avoir appliqué la dernière version que je vous ai proposée. Cela peut être dû à plusieurs raisons :

    Les données attendues (categories ou forum_list) ne sont pas correctement fournies par la vue IndexView de PyBBM.
    Une erreur dans le template empêche le rendu correct des forums.
    Votre base de données ne contient peut-être pas les données nécessaires pour afficher la liste.

Analysons cela étape par étape et corrigeons le problème pour que la liste des forums s’affiche correctement avec votre design Bootstrap.
Diagnostic

    Vérifions les données disponibles :
        Dans votre dernière version de forum_list.html, j’ai utilisé {% if categories %} pour itérer sur les catégories. Si la vue ne fournit pas categories, rien ne s’affichera.
        La version alternative utilisait {% if forum_list %}, mais vous dites que la liste ne s’affiche pas correctement, donc nous devons confirmer ce que la vue envoie.
    Testons le rendu :
        Ajoutons un débogage temporaire pour voir quelles données sont disponibles.
    Vérifions la base de données :
        Si aucune catégorie ou forum n’existe, le template affichera "No forums created", mais vous devriez le voir clairement.

Étape 1 : Template de débogage

Modifions temporairement forum_list.html pour afficher les données brutes et identifier le problème :
html
{% load pybb_tags i18n %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forum</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <style>
        /* Votre CSS reste identique */
        body { background-color: #f8f9fa; color: #212529; }
        .bg-custom { background-color: #343a40; color: #ffffff; }
        .card { border-color: #dee2e6; }
    </style>
</head>
<body>
    <main id="main-container">
        <div class="bg-custom py-3">
            <div class="container d-flex justify-content-between align-items-center">
                <div class="d-flex align-items-center">
                    <i class="bi bi-chat-dots-fill fs-2 me-2"></i>
                    <h1 class="h3 fw-bold mb-0">Bienvenue sur le forum</h1>
                </div>
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb breadcrumb-alt text-white">
                        <li class="breadcrumb-item">
                            <a class="text-light" href="{% url 'pybb:index' %}">Forum</a>
                        </li>
                        <li class="breadcrumb-item active text-light" aria-current="page">Accueil</li>
                    </ol>
                </nav>
            </div>
        </div>
        <div class="container mt-4">
            <div class="card">
                <div class="card-header bg-custom text-white">Sujets de Discussion</div>
                <div class="card-body">
                    <!-- Débogage : Afficher les variables disponibles -->
                    <h3>Débogage</h3>
                    <p>Categories: {{ categories|default:"Non défini" }}</p>
                    <p>Forum_list: {{ forum_list|default:"Non défini" }}</p>
                    <p>User: {{ user|default:"Non défini" }}</p>

                    {% if categories %}
                        <p>Nombre de catégories : {{ categories|length }}</p>
                        {% for category in categories %}
                            <h4>{{ category.name }}</h4>
                            <p>Forums dans {{ category.name }} : {{ category.forum_set.all|length }}</p>
                            {% for forum in category.forum_set.all %}
                                <p>- {{ forum.name }}</p>
                            {% endfor %}
                        {% endfor %}
                    {% elif forum_list %}
                        <p>Nombre de forums : {{ forum_list|length }}</p>
                        {% for forum in forum_list %}
                            <p>- {{ forum.name }} (Catégorie : {{ forum.category.name }})</p>
                        {% endfor %}
                    {% else %}
                        <div class="text-center">
                            <h3>{% trans 'No forums created' %}</h3>
                            {% if user.is_staff %}
                                <a href="{% url 'admin:pybb_forum_add' %}">{% trans 'Add forum now' %}</a>
                            {% endif %}
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

    Instructions :
        Éditez le fichier :
        bash

docker exec -it appweb-1 nano /usr/local/lib/python3.12/site-packages/pybb/templates/pybb/forum_list.html
Remplacez par ce code.
Relancez :
bash

        docker-compose restart
        Accédez à http://infos.center/forum/ et notez ce que vous voyez sous "Débogage".

Étape 2 : Interpréter le résultat

Après avoir chargé la page, partagez-moi ce que vous voyez sous la section "Débogage". Voici ce que nous cherchons :

    Si "Categories: Non défini" et "Forum_list: Non défini" :
        La vue ne passe aucune donnée au template. Nous devrons vérifier IndexView.
    Si "Categories: [quelque chose]" :
        Les catégories existent, mais peut-être pas les forums.
    Si "Forum_list: [quelque chose]" :
        La vue utilise forum_list, et nous adapterons le template en conséquence.
    Si "Nombre de catégories : 0" ou "Nombre de forums : 0" :
        La base de données est vide.

Étape 3 : Corriger en fonction des données

En attendant votre retour, voici les deux versions corrigées possibles :
Version avec categories

Si la vue fournit categories :
html
{% load pybb_tags i18n %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <!-- Votre <head> reste identique -->
</head>
<body>
    <main id="main-container">
        <div class="bg-custom py-3">
            <!-- Votre header reste identique -->
        </div>
        <div class="container mt-4">
            <div class="card">
                <div class="card-header bg-custom text-white">Sujets de Discussion</div>
                <div class="card-body">
                    {% if categories %}
                        {% for category in categories %}
                            <table class="table table-striped table-hover category-table">
                                <thead class="border-bottom">
                                    <tr>
                                        <th colspan="2" style="font-size: .875rem;text-transform: uppercase;letter-spacing: .0625em">{{ category.name }}</th>
                                        <th style="font-size: .875rem;text-transform: uppercase;letter-spacing: .0625em">{% trans 'Topics' %}</th>
                                        <th style="font-size: .875rem;text-transform: uppercase;letter-spacing: .0625em">{% trans 'Posts' %}</th>
                                        <th style="font-size: .875rem;text-transform: uppercase;letter-spacing: .0625em">{% trans 'Last posts' %}</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% with forums=category.forum_set.all|pybb_forum_unread:user %}
                                        {% if forums %}
                                            {% for forum in forums %}
                                                <tr class="forum-row">
                                                    <td class="topic-icon {% if forum.unread %}forum-unread{% endif %}">
                                                        <i class="bi {% if forum.unread %}bi-chat-left-text{% else %}bi-chat-square{% endif %} fs-4"></i>
                                                    </td>
                                                    <td class="topic-title {% if forum.unread %}forum-unread{% endif %}">
                                                        <a class="fw-semibold text-truncate d-block" href="{{ forum.get_absolute_url }}">{{ forum.name }}</a>
                                                        {% if forum.hidden %}<span>[{% trans 'Hidden' %}]</span>{% endif %}
                                                        <div class="fs-sm text-muted">{{ forum.description|safe }}</div>
                                                    </td>
                                                    <td class="forum-topic-count">
                                                        <a class="fw-semibold" href="{{ forum.get_absolute_url }}">{{ forum.topic_count }}</a>
                                                    </td>
                                                    <td class="forum-post-count">
                                                        <a class="fw-semibold" href="{{ forum.get_absolute_url }}">{{ forum.post_count }}</a>
                                                    </td>
                                                    <td class="forum-last-post">
                                                        {% if forum.latest_post %}
                                                            <small>Par <strong>{{ forum.latest_post.user }}</strong> le {{ forum.latest_post.created|date:"d/m/Y" }}</small>
                                                        {% else %}
                                                            <small>Aucun message</small>
                                                        {% endif %}
                                                    </td>
                                                </tr>
                                            {% endfor %}
                                        {% else %}
                                            <tr>
                                                <td colspan="5">Aucun forum dans cette catégorie</td>
                                            </tr>
                                        {% endif %}
                                    {% endwith %}
                                </tbody>
                            </table>
                        {% endfor %}
                        <div id="mark-all-as-read" class="text-center mt-3">
                            <a href="/forum/topic/latest/">Last updates in topics</a> /
                            <a href="{% url 'pybb:mark_all_as_read' %}">Mark all forums as read</a>
                        </div>
                    {% else %}
                        <div class="text-center">
                            <h3>{% trans 'No forums created' %}</h3>
                            {% if user.is_staff %}
                                <a href="{% url 'admin:pybb_forum_add' %}">{% trans 'Add forum now' %}</a>
                            {% endif %}
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
